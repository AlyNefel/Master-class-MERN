<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>todolist</title>

    <style>
        .changeColor{
            background-color: lightgreen;
            color:white;
            font-size: 50px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h1 class="card-title text-center" id="title" >My TO-DO List</h1>
                        <div class="input-group mb-3">
                            <input type="text" name="" 
                            oninput="handleInput()"
                            onkeydown="handleKeyDown(event)"
                            class="form-control"
                            placeholder="enter ur task"
                            id="task-input">
                            <!-- button -->
                             <button class="btn btn-primary"
                             onclick="handleAddTask()"
                             id="add-task-btn">Add</button>
                        </div>
                    <ul id="task-list" class="list-group">

                    </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // DOM selectors
        var input=document.querySelector("#task-input")
        var list=document.querySelector("#task-list")

        var title=document.querySelector("#title")
        //create task function
        function createTask(taskText){
            var li =document.createElement("li")
            li.textContent=taskText
            // make the li prettier with bootsrtrap
            li.className="list-group-item"
            //add event on hover 
            li.onmouseover=changeColor
            li.onmouseout=restoreColor
            li.ondblclick=deleteTask
            //to tell the user the task is done 
            //li.onclick=changeStyle
            //in the top of list 
            list.prepend(li)
            //list.append(li) == at the end of list
        }

        //btn funtion handleAddTask
        function handleAddTask(){
            // collect the value of the input 
            var taskText=input.value
            //create the task and add it to th ul
            createTask(taskText)
            //make the input empty
            input.value=""
            handleInput()
        }

        //change title when typing logic 
        function handleInput(){
            // we want to detect if the input is empty or not 
            if(input.value!==""){
                title.textContent="You are Typing..."
            }
            else title.textContent="My TO-DO List"
        }

        function handleKeyDown(event){
           console.log(event)
if(event.key=="Enter"){
    console.log("enter hitted")
    handleAddTask()
}
        }

        //change color on hover
        function changeColor(event){
            console.log("li hovered")
console.log(event.target.classList)
event.target.classList.add("changeColor")
console.log(event.target.classList)
        }

        function restoreColor(event){
           event.target.classList.remove("changeColor") 
        }
// delete tasl 
function deleteTask(event){
event.target.remove()
}
    </script>
</body>
</html>